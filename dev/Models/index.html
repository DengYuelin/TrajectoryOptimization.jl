<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Setting up a Dynamics Model · TrajectoryOptimization</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>TrajectoryOptimization</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Setting up a Dynamics Model</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Overview-1">Overview</a></li><li><a class="toctext" href="#Analytical-Models-1">Analytical Models</a></li></ul></li><li><a class="toctext" href="../">TrajectoryOptimization.jl</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Setting up a Dynamics Model</a></li></ul><a class="edit-page" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/master/docs/src/Models.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Setting up a Dynamics Model</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Setting-up-a-Dynamics-Model-1" href="#Setting-up-a-Dynamics-Model-1">Setting up a Dynamics Model</a></h1><p>Documentation for TrajectoryOptimization.jl</p><ul><li><a href="../#TrajectoryOptimization.jl-1">TrajectoryOptimization.jl</a></li><li><a href="../#Overview-1">Overview</a></li><li><a href="../#Getting-Started-1">Getting Started</a></li><ul><li><a href="../#Creating-a-Model-1">Creating a Model</a></li><li><a href="../#Creating-an-Objective-1">Creating an Objective</a></li><li><a href="../#Solving-the-Problem-1">Solving the Problem</a></li><li><a href="../#Solve-Methods-1">Solve Methods</a></li><li><a href="../#DIRCOL-Method-1">DIRCOL Method</a></li></ul><li><a href="../#Constraints-1">Constraints</a></li><ul><li><a href="../#Constraint-Type-1">Constraint Type</a></li><li><a href="../#Creating-Constraints-1">Creating Constraints</a></li></ul><li><a href="#Setting-up-a-Dynamics-Model-1">Setting up a Dynamics Model</a></li><li><a href="#Overview-1">Overview</a></li><ul><li><a href="#Analytical-Models-1">Analytical Models</a></li></ul></ul><h1><a class="nav-anchor" id="Overview-1" href="#Overview-1">Overview</a></h1><p>The Model type holds information about the dynamics of the system. All dynamics are assumed to be state-space models of the system of the form ẋ = f(x,u) where ẋ is the state derivative, x an n-dimentional state vector, and u in an m-dimensional control input vector. The function f can be any nonlinear function.</p><p>TrajectoryOptimization.jl poses the trajectory optimization problem by discretizing the state and control trajectories, which requires discretizing the dynamics, turning the continuous time differential equation into a discrete time difference equation of the form x[k+1] = f(x[k],u[k]), where k is the time step. There many methods of performing this discretization, and TrajectoryOptimization.jl offers several of the most common methods.</p><p>Sometimes is it convenient to write down the difference equation directly, rather than running a differential equation through a discretizing integration method. TrajectoryOptimization.jl offers method deal directly with either continuous differential equations, or discrete difference equations.</p><p>The <code>Model</code> type is parameterized by the <code>DynamicsType</code>, which is either <code>Continuous</code>, or <code>Discrete</code>. The models holds the equation f and it&#39;s Jacobian, ∇f, along with the dimensions of the state and control vectors.</p><p>Models can be created by writing down the dynamics analytically or be generated from a URDF file via <a href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl"><code>RigidBodyDynamics.jl</code></a>.</p><h2><a class="nav-anchor" id="Analytical-Models-1" href="#Analytical-Models-1">Analytical Models</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TrajectoryOptimization.AnalyticalModel" href="#TrajectoryOptimization.AnalyticalModel"><code>TrajectoryOptimization.AnalyticalModel</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct AnalyticalModel{D} &lt;: Model{D}</code></pre><p>Dynamics model</p><p>Holds all information required to uniquely describe a dynamic system, including a general nonlinear dynamics function of the form <code>ẋ = f(x,u)</code>, where x ∈ ℜⁿ are the states and u ∈ ℜᵐ are the controls.</p><p>Dynamics function <code>Model.f</code> should be in the following forms:     &#39;f!(ẋ,x,u)&#39; and modify ẋ in place</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/e3fcfe67d24677d67b6f93fc4eec97e51d8de899/src/model.jl#L9">source</a></section><h3><a class="nav-anchor" id="Continuous-Models-1" href="#Continuous-Models-1">Continuous Models</a></h3><p>Continuous models assume differential equations are specified by an in-place function in one of the following forms:</p><pre><code class="language-none">f!(ẋ,x,u)
f!(ẋ,x,u,p)</code></pre><p>and Jacobians of the form</p><pre><code class="language-none">∇f!(Z,x,u)
∇f!(Z,x,u,p)</code></pre><p>where <code>ẋ</code> is the state derivative, <code>p</code> is a <code>NamedTuple</code> of model parameters, and <code>Z</code>is the (n × (n+m)) Jacobian matrix (i.e. [∇ₓf(x,u) ∇ᵤf(x,u)]).</p><p>The following constructors can be used to create Continuous Analytical models</p><pre><code class="language-none">Model(::Function,::Int,::Int,::Dict)
Model(::Function,::Int,::Int,::NamedTuple,::Dict)
Model(::Function,::Function,::Int,::Int,::Dict)
Model(::Function,::Function,::Int,::Int,::NamedTuple,::Dict)</code></pre><footer><hr/><a class="next" href="../"><span class="direction">Next</span><span class="title">TrajectoryOptimization.jl</span></a></footer></article></body></html>
