<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Cost Functions and Objectives · TrajectoryOptimization</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">TrajectoryOptimization</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Introduction</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="models.html">1. Setting up a Dynamics Model</a></li><li><a class="tocitem" href="costfunctions.html">2. Setting up an Objective</a></li><li><a class="tocitem" href="constraints.html">3. Creating Constraints</a></li><li><a class="tocitem" href="creating_problems.html">4. Setting up a Problem</a></li></ul></li><li><span class="tocitem">Documentation</span><ul><li><a class="tocitem" href="model_types.html">Model Types</a></li><li><a class="tocitem" href="discretization.html">Discretization</a></li><li class="is-active"><a class="tocitem" href="cost_api.html">Cost Functions and Objectives</a><ul class="internal"><li><a class="tocitem" href="#Quadratic-Cost-Functions-1"><span>Quadratic Cost Functions</span></a></li><li><a class="tocitem" href="#CostExpansion-Type-1"><span>CostExpansion Type</span></a></li><li><a class="tocitem" href="#Objective-1"><span>Objective</span></a></li></ul></li><li><a class="tocitem" href="constraint_api.html">Constraints</a></li><li><a class="tocitem" href="problem.html">Problem</a></li></ul></li><li><span class="tocitem">Interfaces</span><ul><li><a class="tocitem" href="costfunction_interface.html">Cost Function Interface</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Documentation</a></li><li class="is-active"><a href="cost_api.html">Cost Functions and Objectives</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="cost_api.html">Cost Functions and Objectives</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/master/docs/src/cost_api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Cost-Functions-and-Objectives-1"><a class="docs-heading-anchor" href="#Cost-Functions-and-Objectives-1">Cost Functions and Objectives</a><a class="docs-heading-anchor-permalink" href="#Cost-Functions-and-Objectives-1" title="Permalink"></a></h1><p>This page details the functions related to building and evaluating cost functions and objectives.</p><h2 id="Quadratic-Cost-Functions-1"><a class="docs-heading-anchor" href="#Quadratic-Cost-Functions-1">Quadratic Cost Functions</a><a class="docs-heading-anchor-permalink" href="#Quadratic-Cost-Functions-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.QuadraticCost" href="#TrajectoryOptimization.QuadraticCost"><code>TrajectoryOptimization.QuadraticCost</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct QuadraticCost{TQ, TR, TH, Tq, Tr, T} &lt;: CostFunction</code></pre><p>Cost function of the form     1/2xₙᵀ Qf xₙ + qfᵀxₙ +  ∫ ( 1/2xᵀQx + 1/2uᵀRu + xᵀHu + q⁠ᵀx  rᵀu ) dt from 0 to tf R must be positive definite, Q and Qf must be positive semidefinite</p><p>Constructor use any of the following constructors:</p><pre><code class="language-julia">QuadraticCost(Q, R, H, q, r, c)
QuadraticCost(Q, R; H, q, r, c)
QuadraticCost(Q, q, c)</code></pre><p>Any optional or omitted values will be set to zero(s).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/costfunctions.jl#L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.LQRCost" href="#TrajectoryOptimization.LQRCost"><code>TrajectoryOptimization.LQRCost</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">LQRCost(Q, R, xf)
</code></pre><p>Cost function of the form <span>$(x-x_f)^T Q (x_x_f) + u^T R u$</span> R must be positive definite, Q must be positive semidefinite</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/costfunctions.jl#L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.LQRCostTerminal" href="#TrajectoryOptimization.LQRCostTerminal"><code>TrajectoryOptimization.LQRCostTerminal</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">LQRCostTerminal(Qf, xf)
</code></pre><p>Cost function of the form <span>$(x-x_f)^T Q (x_x_f)$</span> Q must be positive semidefinite</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/costfunctions.jl#L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.LQRObjective" href="#TrajectoryOptimization.LQRObjective"><code>TrajectoryOptimization.LQRObjective</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">LQRObjective(Q, R, Qf, xf, N)</code></pre><p>Create an objective of the form <span>$(x_N - x_f)^T Q_f (x_N - x_f) + \sum_{k=0}^{N-1} (x_k-x_f)^T Q (x_k-x_f) + u_k^T R u_k$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/objective.jl#L86-L92">source</a></section></article><h2 id="CostExpansion-Type-1"><a class="docs-heading-anchor" href="#CostExpansion-Type-1">CostExpansion Type</a><a class="docs-heading-anchor-permalink" href="#CostExpansion-Type-1" title="Permalink"></a></h2><p>The <code>CostExpansion</code> type stores the pieces of the second order Taylor expansion of the cost for the entire trajectory, stored as vectors of Static Vectors or Static Matrices. e.g. to get the Hessian with respect to <code>x</code> at knotpoint 5 you would use <code>E.xx[5]</code>.</p><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.CostExpansion" href="#TrajectoryOptimization.CostExpansion"><code>TrajectoryOptimization.CostExpansion</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct CostExpansion{T, N, M, L1, L2, L3}</code></pre><p>Store the terms of the 2nd order expansion for the entire trajectory</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/objective.jl#L4">source</a></section></article><h2 id="Objective-1"><a class="docs-heading-anchor" href="#Objective-1">Objective</a><a class="docs-heading-anchor-permalink" href="#Objective-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.Objective" href="#TrajectoryOptimization.Objective"><code>TrajectoryOptimization.Objective</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct Objective{C} &lt;: TrajectoryOptimization.AbstractObjective</code></pre><p>Objective: stores stage cost(s) and terminal cost functions</p><p>Constructors:</p><pre><code class="language-julia">Objective(cost, N)
Objective(cost, cost_term, N)
Objective(costs::Vector{&lt;:CostFunction}, cost_term)
Objective(costs::Vector{&lt;:CostFunction})</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/objective.jl#L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.cost-Tuple{Objective,AbstractArray{#s29,1} where #s29&lt;:KnotPoint}" href="#TrajectoryOptimization.cost-Tuple{Objective,AbstractArray{#s29,1} where #s29&lt;:KnotPoint}"><code>TrajectoryOptimization.cost</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">cost(obj::Objective, Z::Traj)::Float64
cost(obj::Objective, dyn_con::DynamicsConstraint{Q}, Z::Traj)</code></pre><p>Evaluate the cost for a trajectory. Calculate the cost gradient for an entire trajectory. If a dynamics constraint is given,     use the appropriate integration rule, if defined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/cost.jl#L17-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.stage_cost" href="#TrajectoryOptimization.stage_cost"><code>TrajectoryOptimization.stage_cost</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">stage_cost(cost::CostFunction, z::KnotPoint) -&gt; Any
</code></pre><p>Evaluate the cost at a knot point</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/cost.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.get_J" href="#TrajectoryOptimization.get_J"><code>TrajectoryOptimization.get_J</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get the vector of costs at each knot point. <code>sum(get_J(obj))</code> is equal to the cost</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/objective.jl#L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.cost_gradient" href="#TrajectoryOptimization.cost_gradient"><code>TrajectoryOptimization.cost_gradient</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Qx,Qu = cost_gradient(cost::CostFunction, z::KnotPoint)</code></pre><p>Get Qx, Qu pieces of gradient of cost function, multiplied by dt</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/cost.jl#L43-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.cost_gradient!" href="#TrajectoryOptimization.cost_gradient!"><code>TrajectoryOptimization.cost_gradient!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cost_gradient!(E::CostExpansion, obj::Objective, Z::Traj)
cost_gradient!(E::CostExpansion, obj::Objective, dyn_con::DynamicsConstraint{Q}, Z::Traj)</code></pre><p>Calculate the cost gradient for an entire trajectory. If a dynamics constraint is given,     use the appropriate integration rule, if defined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/cost.jl#L80-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.cost_hessian" href="#TrajectoryOptimization.cost_hessian"><code>TrajectoryOptimization.cost_hessian</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Qxx,Quu,Qux = cost_hessian(cost::CostFunction, z::KnotPoint)</code></pre><p>Get Qxx, Quu, Qux pieces of Hessian of cost function, multiplied by dt</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/cost.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TrajectoryOptimization.cost_hessian!" href="#TrajectoryOptimization.cost_hessian!"><code>TrajectoryOptimization.cost_hessian!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cost_hessian!(E::CostExpansion, obj::Objective, Z::Traj)</code></pre><p>Calculate the cost Hessian for an entire trajectory</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/0ee328741d913a2d0916edd68ffd4e46e2d220ec/src/cost.jl#L97-L101">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="discretization.html">« Discretization</a><a class="docs-footer-nextpage" href="constraint_api.html">Constraints »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 26 December 2019 17:13">Thursday 26 December 2019</span>. Using Julia version 1.3.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
