<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>4. Setting up a Problem · TrajectoryOptimization</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>TrajectoryOptimization</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">TrajectoryOptimization.jl Documentation</a></li><li><a class="toctext" href="../models/">1. Setting up a Dynamics Model</a></li><li><a class="toctext" href="../costfunctions/">2. Setting up an Objective</a></li><li><a class="toctext" href="../constraints/">3. Creating Constraints</a></li><li class="current"><a class="toctext" href>4. Setting up a Problem</a><ul class="internal"><li><a class="toctext" href="#Creating-a-Problem-1">Creating a Problem</a></li><li><a class="toctext" href="#Methods-1">Methods</a></li></ul></li><li><a class="toctext" href="../solvers/">Solvers</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>4. Setting up a Problem</a></li></ul><a class="edit-page" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/master/docs/src/problem.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>4. Setting up a Problem</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="problem_section-1" href="#problem_section-1">4. Setting up a Problem</a></h1><ul><li><a href="#problem_section-1">4. Setting up a Problem</a></li><ul><li><a href="#Creating-a-Problem-1">Creating a Problem</a></li><li><a href="#Methods-1">Methods</a></li></ul></ul><h2><a class="nav-anchor" id="Creating-a-Problem-1" href="#Creating-a-Problem-1">Creating a Problem</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TrajectoryOptimization.Problem" href="#TrajectoryOptimization.Problem"><code>TrajectoryOptimization.Problem</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct Problem{T&lt;:AbstractFloat, D&lt;:TrajectoryOptimization.DynamicsType}</code></pre><p>Trajectory Optimization Problem. Contains the full definition of a trajectory optimization problem, including:</p><ul><li>dynamics model (<code>Model</code>). Can be either continuous or discrete.</li><li>objective (<code>Objective</code>)</li><li>constraints (<code>Constraints</code>)</li><li>initial and final states</li><li>Primal variables (state and control trajectories)</li><li>Discretization information: knot points (<code>N</code>), time step (<code>dt</code>), and total time (<code>tf</code>)</li></ul><p><strong>Constructors:</strong></p><pre><code class="language-julia">Problem(model, obj X0, U0; integration, constraints, x0, xf, dt, tf, N)
Problem(model, obj, U0; integration, constraints, x0, xf, dt, tf, N)
Problem(model, obj; integration, constraints, x0, xf, dt, tf, N)</code></pre><p><strong>Arguments</strong></p><ul><li><code>model</code>: Dynamics model. Can be either <code>Discrete</code> or <code>Continuous</code></li><li><code>obj</code>: Objective</li><li><code>X0</code>: Initial state trajectory. If omitted it will be initialized with NaNs, to be later overwritten by the solver.</li><li><code>U0</code>: Initial control trajectory. If omitted it will be initialized with zeros.</li><li><code>x0</code>: Initial state. Defaults to zeros.</li><li><code>xf</code>: Final state. Defaults to zeros.</li><li><code>dt</code>: Time step</li><li><code>tf</code>: Final time. Set to zero to specify a time penalized problem.</li><li><code>N</code>: Number of knot points. Defaults to 51, unless specified by <code>dt</code> and <code>tf</code>.</li><li><code>integration</code>: One of the defined integration types to discretize the continuous dynamics model. Defaults to <code>:none</code>, which will pass in the continuous dynamics (eg. for DIRCOL)</li></ul><p>Both <code>X0</code> and <code>U0</code> can be either a <code>Matrix</code> or a <code>Vector{Vector}</code>, but must be the same. At least 2 of <code>dt</code>, <code>tf</code>, and <code>N</code> need to be specified (or just 1 of <code>dt</code> and <code>tf</code>).</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L7">source</a></section><h2><a class="nav-anchor" id="Methods-1" href="#Methods-1">Methods</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TrajectoryOptimization.update_problem" href="#TrajectoryOptimization.update_problem"><code>TrajectoryOptimization.update_problem</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">update_problem(prob; kwargs...)</code></pre><p>Create a new problem from another, specifing all fields as keyword arguments The <code>newProb</code> argument can be set to true if a the primal variables are to be copied, otherwise they will be passed to the modified problem.</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L126-L132">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TrajectoryOptimization.initial_controls!" href="#TrajectoryOptimization.initial_controls!"><code>TrajectoryOptimization.initial_controls!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">initial_controls!(prob, U0)
</code></pre><p>Set the initial control trajectory for a problem. U0 can be either a <code>Matrix</code> or a <code>Vector{Vector}</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L143">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TrajectoryOptimization.initial_states!" href="#TrajectoryOptimization.initial_states!"><code>TrajectoryOptimization.initial_states!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Set the initial state trajectory for a problem. X0 can be either a <code>Matrix</code> or a <code>Vector{Vector}</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L147">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TrajectoryOptimization.set_x0!" href="#TrajectoryOptimization.set_x0!"><code>TrajectoryOptimization.set_x0!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">set_x0!(prob, x0)
</code></pre><p>Set the initial state</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L151">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.size-Tuple{Problem}" href="#Base.size-Tuple{Problem}"><code>Base.size</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">n,m,N = size(p::Problem)</code></pre><p>Return the number of states (n), number of controls (m), and the number of knot points (N)</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L217-L221">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.copy-Tuple{Problem}" href="#Base.copy-Tuple{Problem}"><code>Base.copy</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">copy(p::Problem) -&gt; Problem{_1,_2} where _2 where _1
</code></pre><p>Copy a problem</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L223">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TrajectoryOptimization.is_constrained" href="#TrajectoryOptimization.is_constrained"><code>TrajectoryOptimization.is_constrained</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Checks if a problem has any constraints</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L229">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TrajectoryOptimization.max_violation-Union{Tuple{Problem{T,D} where D&lt;:DynamicsType}, Tuple{T}} where T" href="#TrajectoryOptimization.max_violation-Union{Tuple{Problem{T,D} where D&lt;:DynamicsType}, Tuple{T}} where T"><code>TrajectoryOptimization.max_violation</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Evaluate the maximum contraint violation</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L237">source</a><div><div><p>Evaluate maximum constraint violation</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/augmented_lagrangian.jl#L158">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TrajectoryOptimization.final_time" href="#TrajectoryOptimization.final_time"><code>TrajectoryOptimization.final_time</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">final_time(prob)
</code></pre><p>Get the total time for tje trajectory (applicable for time-penalized problems)</p></div></div><a class="source-link" target="_blank" href="https://github.com/RoboticExplorationLab/TrajectoryOptimization.jl/blob/2ea839be5a504992bf02865f34a4c376ca18e2a3/src/problem.jl#L310">source</a></section><footer><hr/><a class="previous" href="../constraints/"><span class="direction">Previous</span><span class="title">3. Creating Constraints</span></a><a class="next" href="../solvers/"><span class="direction">Next</span><span class="title">Solvers</span></a></footer></article></body></html>
